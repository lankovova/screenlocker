{"version":3,"sources":["webpack:///webpack/bootstrap 53c5a43eb8e736f82808","webpack:///./src/ScreenLocker/Point.js","webpack:///./src/ScreenLocker/utils.js","webpack:///./src/index.js","webpack:///./src/ScreenLocker/index.js","webpack:///./src/ScreenLocker/KeepersController.js","webpack:///./src/ScreenLocker/Keeper.js"],"names":["Point","x","y","drawLine","arraysAreEqual","isTouchDevice","context","from","to","beginPath","moveTo","lineTo","stroke","a","b","JSON","stringify","document","documentElement","screenLocker","pointerPressed","canvas","querySelector","getContext","resizeCanvas","bind","width","window","innerWidth","height","innerHeight","keepersController","rows","columns","initListeners","addEventListener","ontouchstart","e","pointerClick","touches","ontouchmove","pointerMove","ontouchend","pointerLeave","ontouchcancel","onmousedown","onmousemove","onmouseup","onmouseleave","event","draw","mousePos","clientX","clientY","startTyping","moveLine","passEntered","bgColor","submitPass","bg","clearRect","fillStyle","fillRect","RADIUS","OFFSET_BETWEEN_CIRCLES","PASS","STATES","IDLE","PICKING","DO_NOTHING","KeepersController","props","STATE","keepers","lockpath","initializeKeepers","i","topOffset","keeperY","j","leftOffset","keeperX","push","id","length","pos","radius","color","forEach","keeper","reduce","curr","next","center","point","intersectionWithKeeper","index","isIntersect","checkIntersection","enteredPass","map","k","redrawCanvas","drawLockPath","find","inPathKeeper","console","warn","Keeper","arc","Math","PI","fill","d","sqrt"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 53c5a43eb8e736f82808","export default class Point {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScreenLocker/Point.js","/**\r\n * Draw line\r\n * @param {Context} context Context where to draw on\r\n * @param {Point} from Start line point\r\n * @param {Point} to End line Point\r\n */\r\nexport function drawLine(context, from, to) {\r\n    context.beginPath();\r\n    context.moveTo(from.x, from.y);\r\n    context.lineTo(to.x, to.y);\r\n    context.stroke();\r\n}\r\n\r\n/**\r\n * Check if arrays are equal\r\n * @param {[]} a First array\r\n * @param {[]} b Second array\r\n * @returns {Boolean} Returns true if arrays are equal, otherwise - returns false\r\n */\r\nexport function arraysAreEqual(a, b) {\r\n    return JSON.stringify(a) === JSON.stringify(b);\r\n}\r\n\r\n/**\r\n * Check if user is using touch device\r\n*/\r\nexport function isTouchDevice() {\r\n    return 'ontouchstart' in document.documentElement;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScreenLocker/utils.js","import ScreenLocker from './ScreenLocker';\r\n\r\n(function() {\r\n    const screenLocker = new ScreenLocker();\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import KeepersController from \"./KeepersController\";\r\nimport Point from \"./Point\";\r\nimport {isTouchDevice} from './utils';\r\n\r\nlet pointerPressed = false;\r\n\r\nexport default class {\r\n    constructor() {\r\n        this.canvas = document.querySelector('#canvas');\r\n        this.context = this.canvas.getContext('2d');\r\n\r\n        this.resizeCanvas = this.resizeCanvas.bind(this);\r\n\r\n        this.canvas.width = window.innerWidth;\r\n        this.canvas.height = window.innerHeight;\r\n\r\n        // Initialize keepers\r\n        this.keepersController = new KeepersController(this.context, {rows: 3, columns: 3});\r\n\r\n        this.initListeners();\r\n    }\r\n\r\n    initListeners() {\r\n        window.addEventListener('resize', this.resizeCanvas, false);\r\n\r\n        if (isTouchDevice()) {\r\n            this.canvas.ontouchstart = (e) => this.pointerClick(e.touches[0]);\r\n            this.canvas.ontouchmove = (e) => this.pointerMove(e.touches[0]);\r\n            this.canvas.ontouchend = () => this.pointerLeave();\r\n            this.canvas.ontouchcancel = () => this.pointerLeave();\r\n        } else {\r\n            this.canvas.onmousedown = (e) => this.pointerClick(e);\r\n            this.canvas.onmousemove = (e) => this.pointerMove(e);\r\n            this.canvas.onmouseup = () => this.pointerLeave();\r\n            this.canvas.onmouseleave = () => this.pointerLeave();\r\n        }\r\n    }\r\n\r\n    pointerClick(event) {\r\n        // Redraw canvas\r\n        this.draw();\r\n        pointerPressed = true;\r\n        const mousePos = new Point(event.clientX, event.clientY);\r\n        // Check intersection in keepers\r\n        this.keepersController.startTyping(mousePos);\r\n    }\r\n    pointerMove(event) {\r\n        if (pointerPressed) {\r\n            const mousePos = new Point(event.clientX, event.clientY);\r\n            // Check intersection in keepers\r\n            this.keepersController.moveLine(mousePos, () => this.draw());\r\n        }\r\n    }\r\n    pointerLeave() {\r\n        pointerPressed = false;\r\n        if (this.keepersController.passEntered()) {\r\n            const bgColor = this.keepersController.submitPass() ? 'rgba(0,150,0,0.5)' : 'rgba(150,0,0,0.7)';\r\n            // Redraw full canvas\r\n            this.draw(bgColor);\r\n        } else {\r\n            this.draw();\r\n        }\r\n    }\r\n\r\n    resizeCanvas() {\r\n        this.canvas.width = window.innerWidth;\r\n        this.canvas.height = window.innerHeight;\r\n\r\n        this.draw();\r\n    }\r\n\r\n    draw(bg='rgb(200, 200, 200)') {\r\n        // Clear canvas\r\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        // Fill canvas with bg color\r\n        this.context.fillStyle = bg;\r\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        // Draw keepers\r\n        this.keepersController.draw();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScreenLocker/index.js","import Keeper from \"./Keeper\";\r\nimport Point from \"./Point\";\r\nimport {drawLine, arraysAreEqual} from './utils';\r\n\r\nexport const RADIUS = 20;\r\nexport const OFFSET_BETWEEN_CIRCLES = 20;\r\n\r\nexport const PASS = [7, 3, 1, 5, 4, 8];\r\n\r\nlet STATES = {\r\n    IDLE: 'IDLE',\r\n    PICKING: 'PICKING',\r\n    DO_NOTHING: 'DO_NOTHING'\r\n};\r\n\r\nexport default class KeepersController {\r\n    constructor(context, props) {\r\n        this.context = context;\r\n\r\n        this.rows = props.rows;\r\n        this.columns = props.columns;\r\n\r\n        this.STATE = STATES.IDLE;\r\n\r\n        this.keepers = [];\r\n        this.lockpath = [];\r\n\r\n        this.initializeKeepers();\r\n    }\r\n\r\n    initializeKeepers() {\r\n        // Initialize keepres\r\n        for (let i = 0; i < this.rows; i++) {\r\n            const topOffset = (this.context.canvas.height / 2) - this.columns * RADIUS;\r\n            const keeperY = topOffset + i * (RADIUS * 2 + OFFSET_BETWEEN_CIRCLES);\r\n\r\n            for (let j = 0; j < this.columns; j++) {\r\n                const leftOffset = (this.context.canvas.width / 2) - this.rows * RADIUS;\r\n                const keeperX = leftOffset + j * (RADIUS * 2 + OFFSET_BETWEEN_CIRCLES);\r\n\r\n                // Add new keeper to row\r\n                this.keepers.push(new Keeper(\r\n                                    this.context, {\r\n                                        id: this.keepers.length,\r\n                                        pos: new Point(keeperX, keeperY),\r\n                                        radius: RADIUS,\r\n                                        color: 'rgb(153,21,242)'\r\n                                    })\r\n                                );\r\n            }\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        this.keepers.forEach(keeper => keeper.draw());\r\n    }\r\n\r\n    drawLockPath() {\r\n        this.lockpath.reduce((curr, next) => {\r\n            drawLine(this.context, curr.center, next.center);\r\n            return next;\r\n        });\r\n    }\r\n\r\n    checkIntersection(point, intersectionWithKeeper) {\r\n        this.keepers.forEach((keeper, index) => {\r\n            if (keeper.isIntersect(point)) {\r\n                intersectionWithKeeper(this.keepers[index]);\r\n            }\r\n        });\r\n    }\r\n\r\n    startTyping(point) {\r\n        this.checkIntersection(point, (keeper) => {\r\n            // Add starting keeper to lockpath\r\n            this.lockpath.push(keeper);\r\n            // Set state to PICKING\r\n            this.STATE = STATES.PICKING;\r\n        });\r\n    }\r\n\r\n    passEntered() {\r\n        return this.lockpath.length !== 0;\r\n    }\r\n\r\n    submitPass() {\r\n        if (this.passEntered()) {\r\n            // Set state to IDLE\r\n            this.STATE = STATES.IDLE;\r\n\r\n            // Get current lock path password\r\n            const enteredPass = this.lockpath.map(k => k.id);\r\n\r\n            // Clear lockpath\r\n            this.lockpath = [];\r\n\r\n            // Check pass\r\n            return arraysAreEqual(enteredPass, PASS);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    moveLine(point, redrawCanvas) {\r\n        switch(this.STATE) {\r\n            case STATES.PICKING: {\r\n                // If all keeper has been picked\r\n                if (this.lockpath.length === this.rows * this.columns) {\r\n                    // Redraw whole canvas\r\n                    redrawCanvas();\r\n                    // Draw path between all lockpath keepers\r\n                    this.drawLockPath();\r\n                    // Set state to DO_NOTHING\r\n                    // to disable useless re-rendering\r\n                    this.STATE = STATES.DO_NOTHING;\r\n                } else if (this.lockpath.length !== 0) {\r\n                    // If there is at least one keeper in the path\r\n                    // Check if mouse has entered in a new keeper\r\n                    this.checkIntersection(point, (keeper) => {\r\n                        // Add only uniqe keepers to lock path\r\n                        if (!this.lockpath.find(inPathKeeper => inPathKeeper === keeper)) {\r\n                            // Add new picked keeper to lockpath\r\n                            this.lockpath.push(keeper);\r\n                        }\r\n                    });\r\n\r\n                    // Redraw whole canvas\r\n                    redrawCanvas();\r\n                    // Draw path between all lockpath keepers\r\n                    this.drawLockPath();\r\n                    // Draw line between current holded keeper and mouse\r\n                    drawLine(this.context, this.lockpath[this.lockpath.length - 1].center, point);\r\n                }\r\n                break;\r\n            }\r\n            case STATES.IDLE:\r\n            case STATES.DO_NOTHING: { break; }\r\n            default: { console.warn(`Unhandeled KeepersContorller state: ${this.STATE}`) }\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScreenLocker/KeepersController.js","export default class Keeper {\r\n    constructor(context, props) {\r\n        this.context = context;\r\n\r\n        this.id = props.id;\r\n        this.center = props.pos;\r\n        this.color = props.color;\r\n        this.radius = props.radius;\r\n    }\r\n\r\n    draw() {\r\n        this.context.beginPath();\r\n        this.context.arc(this.center.x, this.center.y, this.radius, 0, 2 * Math.PI);\r\n        this.context.fillStyle = this.color;\r\n        this.context.fill();\r\n        this.context.stroke();\r\n    }\r\n\r\n    /**\r\n     * Check the intersection of object and given point\r\n     * @param {Point} point Point to check for intersection\r\n     * @returns Returns true if there is intersection, otherwise - returns false\r\n     */\r\n    isIntersect(point) {\r\n        // Get distance between point and center of keeper\r\n        const d = Math.sqrt((point.x - this.center.x) ** 2 + (point.y - this.center.y) ** 2);\r\n        // Return true if distance is lower that radius\r\n        // otherwise - return false\r\n        return d < this.radius;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScreenLocker/Keeper.js"],"sourceRoot":""}